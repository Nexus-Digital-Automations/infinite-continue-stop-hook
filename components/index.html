<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskManager Dashboard</title>
    
    <!-- React and Babel for JSX transformation -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- PropTypes for runtime type checking -->
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.min.js"></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #f9fafb;
        }
        
        * {
            box-sizing: border-box;
        }
        
        /* Custom scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        /* Loading animation */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .spin {
            animation: spin 2s linear infinite;
        }
        
        /* Fade in animation for components */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* Hover effects */
        .hover-lift {
            transition: all 0.2s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
        }
        
        /* Button hover effects */
        .btn-primary {
            background-color: #16a34a;
            transition: background-color 0.2s ease;
        }
        
        .btn-primary:hover {
            background-color: #15803d;
        }
        
        .btn-secondary {
            background-color: #f3f4f6;
            transition: background-color 0.2s ease;
        }
        
        .btn-secondary:hover {
            background-color: #e5e7eb;
        }
        
        /* Modal backdrop */
        .modal-backdrop {
            backdrop-filter: blur(4px);
            transition: opacity 0.2s ease;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .grid-responsive {
                grid-template-columns: 1fr !important;
            }
            
            .hide-mobile {
                display: none !important;
            }
        }
        
        /* Status indicators */
        .status-indicator {
            position: relative;
            overflow: hidden;
        }
        
        .status-indicator::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s ease;
        }
        
        .status-indicator:hover::before {
            left: 100%;
        }
        
        /* Toast notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            min-width: 300px;
            max-width: 500px;
            padding: 16px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #16a34a;
            animation: slideInRight 0.3s ease-out;
        }
        
        .toast.error {
            border-left-color: #ef4444;
        }
        
        .toast.success {
            border-left-color: #10b981;
        }
        
        .toast.warning {
            border-left-color: #f59e0b;
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>
<body>
    <div id="root">
        <!-- React app will be mounted here -->
        <div style="display: flex; justify-content: center; align-items: center; height: 100vh; font-size: 18px; color: #6b7280;">
            <div style="text-align: center;">
                <div style="font-size: 48px; margin-bottom: 16px;" class="spin">üîÑ</div>
                <div>Initializing TaskManager Dashboard...</div>
                <div style="font-size: 14px; margin-top: 8px; opacity: 0.7;">Loading React components</div>
            </div>
        </div>
    </div>

    <!-- Load React components -->
    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;
        const { createRoot } = ReactDOM;
        
        // Import component files (in a real app, these would be separate files)
        // For this demo, we'll define them inline or load them dynamically
        
        // TaskCard Component (simplified version for demo)
        const TaskCard = ({ task, onStatusChange, onTaskSelect }) => {
            const getStatusColor = (status) => {
                const colors = {
                    pending: '#fbbf24',
                    in_progress: '#16a34a',
                    completed: '#10b981',
                    blocked: '#ef4444',
                    archived: '#6b7280'
                };
                return colors[status] || '#6b7280';
            };

            const getCategoryIcon = (category) => {
                const icons = {
                    research: 'üî¨',
                    'linter-error': 'üî¥',
                    'build-error': 'üî•',
                    'start-error': '‚ö†Ô∏è',
                    error: '‚ùå',
                    'missing-feature': 'üÜï',
                    bug: 'üêõ',
                    enhancement: '‚ú®',
                    refactor: '‚ôªÔ∏è',
                    documentation: 'üìö',
                    chore: 'üßπ',
                    'missing-test': 'üß™'
                };
                return icons[category] || 'üìã';
            };

            return (
                <div 
                    className="hover-lift"
                    onClick={() => onTaskSelect && onTaskSelect(task)}
                    style={{
                        border: '1px solid #e5e7eb',
                        borderRadius: '8px',
                        padding: '16px',
                        margin: '8px 0',
                        backgroundColor: '#ffffff',
                        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',
                        cursor: 'pointer',
                        position: 'relative'
                    }}
                >
                    <div
                        style={{
                            position: 'absolute',
                            top: '0',
                            right: '0',
                            width: '4px',
                            height: '100%',
                            backgroundColor: getStatusColor(task.status),
                            borderTopRightRadius: '8px',
                            borderBottomRightRadius: '8px'
                        }}
                    />
                    
                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                            <span style={{ fontSize: '18px' }}>{getCategoryIcon(task.category)}</span>
                            <span style={{
                                backgroundColor: '#f3f4f6',
                                padding: '2px 8px',
                                borderRadius: '12px',
                                fontSize: '12px',
                                fontWeight: '500'
                            }}>
                                {task.category || 'uncategorized'}
                            </span>
                        </div>
                        
                        {task.priority && (
                            <span style={{
                                backgroundColor: task.priority === 'critical' ? '#fee2e2' : 
                                               task.priority === 'high' ? '#fef3c7' : '#e5e7eb',
                                color: task.priority === 'critical' ? '#dc2626' : 
                                       task.priority === 'high' ? '#d97706' : '#374151',
                                padding: '2px 8px',
                                borderRadius: '12px',
                                fontSize: '11px',
                                fontWeight: '600'
                            }}>
                                {task.priority}
                            </span>
                        )}
                    </div>
                    
                    <h3 style={{
                        margin: '0 0 8px 0',
                        fontSize: '16px',
                        fontWeight: '600',
                        color: '#111827'
                    }}>
                        {task.title}
                    </h3>
                    
                    {task.description && (
                        <p style={{
                            margin: '0 0 12px 0',
                            fontSize: '14px',
                            color: '#6b7280',
                            lineHeight: '1.5'
                        }}>
                            {task.description.length > 100 ? 
                                task.description.substring(0, 100) + '...' : 
                                task.description}
                        </p>
                    )}
                    
                    <div style={{
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center',
                        fontSize: '12px',
                        color: '#9ca3af'
                    }}>
                        <div>
                            <strong>Status:</strong> {task.status}
                        </div>
                        <div>
                            {task.created_at ? new Date(task.created_at).toLocaleDateString() : 'No date'}
                        </div>
                    </div>
                </div>
            );
        };

        // Simple Demo App Component
        const DemoApp = () => {
            const [tasks, setTasks] = useState([]);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [selectedTask, setSelectedTask] = useState(null);

            // Mock data for demo
            useEffect(() => {
                const mockTasks = [
                    {
                        id: 'demo-1',
                        title: 'Enhanced Frontend Dashboard',
                        description: 'Created comprehensive React dashboard with real-time updates, agent management, and task analytics',
                        status: 'completed',
                        category: 'enhancement',
                        priority: 'high',
                        created_at: new Date().toISOString(),
                        assigned_agent: 'frontend-specialist'
                    },
                    {
                        id: 'demo-2',
                        title: 'API Integration',
                        description: 'Integrate React components with TaskManager REST API for live data synchronization',
                        status: 'in_progress',
                        category: 'missing-feature',
                        priority: 'high',
                        created_at: new Date(Date.now() - 1000 * 60 * 30).toISOString(),
                        assigned_agent: 'integration-agent'
                    },
                    {
                        id: 'demo-3',
                        title: 'Performance Optimization',
                        description: 'Optimize component rendering and implement virtual scrolling for large task lists',
                        status: 'pending',
                        category: 'enhancement',
                        priority: 'medium',
                        created_at: new Date(Date.now() - 1000 * 60 * 60).toISOString()
                    },
                    {
                        id: 'demo-4',
                        title: 'Unit Tests for React Components',
                        description: 'Add comprehensive Jest tests for all React components',
                        status: 'pending',
                        category: 'missing-test',
                        priority: 'medium',
                        created_at: new Date(Date.now() - 1000 * 60 * 90).toISOString()
                    }
                ];

                setTimeout(() => {
                    setTasks(mockTasks);
                    setLoading(false);
                }, 1500);
            }, []);

            const getStats = () => {
                return {
                    total: tasks.length,
                    pending: tasks.filter(t => t.status === 'pending').length,
                    in_progress: tasks.filter(t => t.status === 'in_progress').length,
                    completed: tasks.filter(t => t.status === 'completed').length
                };
            };

            if (loading) {
                return (
                    <div style={{
                        display: 'flex',
                        justifyContent: 'center',
                        alignItems: 'center',
                        height: '100vh',
                        flexDirection: 'column'
                    }}>
                        <div style={{ fontSize: '48px', marginBottom: '16px' }} className="spin">üîÑ</div>
                        <div style={{ fontSize: '18px', color: '#6b7280', marginBottom: '8px' }}>
                            Loading TaskManager Demo...
                        </div>
                        <div style={{ fontSize: '14px', color: '#9ca3af' }}>
                            Preparing React components
                        </div>
                    </div>
                );
            }

            const stats = getStats();

            return (
                <div style={{
                    fontFamily: 'system-ui, -apple-system, sans-serif',
                    maxWidth: '1200px',
                    margin: '0 auto',
                    padding: '20px',
                    minHeight: '100vh'
                }}>
                    {/* Header */}
                    <div className="fade-in" style={{
                        marginBottom: '20px',
                        padding: '20px',
                        backgroundColor: '#ffffff',
                        borderRadius: '8px',
                        border: '1px solid #e5e7eb',
                        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'
                    }}>
                        <h1 style={{ margin: '0 0 8px 0', fontSize: '28px', fontWeight: '700', color: '#111827' }}>
                            üéØ TaskManager Frontend Demo
                        </h1>
                        <p style={{ margin: 0, fontSize: '16px', color: '#6b7280' }}>
                            Enhanced React dashboard for infinite continue hook system
                        </p>
                    </div>

                    {/* Stats Dashboard */}
                    <div className="fade-in" style={{
                        marginBottom: '20px',
                        padding: '20px',
                        backgroundColor: '#ffffff',
                        borderRadius: '8px',
                        border: '1px solid #e5e7eb',
                        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'
                    }}>
                        <h2 style={{ margin: '0 0 16px 0', fontSize: '20px', fontWeight: '600', color: '#111827' }}>
                            üìä Dashboard Overview
                        </h2>
                        
                        <div style={{
                            display: 'grid',
                            gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',
                            gap: '16px'
                        }}>
                            <div className="status-indicator" style={{
                                textAlign: 'center',
                                padding: '16px',
                                backgroundColor: '#f9fafb',
                                borderRadius: '8px',
                                border: '1px solid #e5e7eb'
                            }}>
                                <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#374151' }}>{stats.total}</div>
                                <div style={{ fontSize: '14px', color: '#6b7280' }}>Total Tasks</div>
                            </div>
                            <div className="status-indicator" style={{
                                textAlign: 'center',
                                padding: '16px',
                                backgroundColor: '#fef3c7',
                                borderRadius: '8px',
                                border: '1px solid #fde68a'
                            }}>
                                <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#d97706' }}>{stats.pending}</div>
                                <div style={{ fontSize: '14px', color: '#92400e' }}>Pending</div>
                            </div>
                            <div className="status-indicator" style={{
                                textAlign: 'center',
                                padding: '16px',
                                backgroundColor: '#dbeafe',
                                borderRadius: '8px',
                                border: '1px solid #bfdbfe'
                            }}>
                                <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#2563eb' }}>{stats.in_progress}</div>
                                <div style={{ fontSize: '14px', color: '#1e40af' }}>In Progress</div>
                            </div>
                            <div className="status-indicator" style={{
                                textAlign: 'center',
                                padding: '16px',
                                backgroundColor: '#dcfce7',
                                borderRadius: '8px',
                                border: '1px solid #bbf7d0'
                            }}>
                                <div style={{ fontSize: '28px', fontWeight: 'bold', color: '#059669' }}>{stats.completed}</div>
                                <div style={{ fontSize: '14px', color: '#047857' }}>Completed</div>
                            </div>
                        </div>
                    </div>

                    {/* Task List */}
                    <div className="fade-in" style={{
                        marginBottom: '20px',
                        padding: '20px',
                        backgroundColor: '#ffffff',
                        borderRadius: '8px',
                        border: '1px solid #e5e7eb',
                        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'
                    }}>
                        <h2 style={{ margin: '0 0 16px 0', fontSize: '20px', fontWeight: '600', color: '#111827' }}>
                            üìã Recent Tasks
                        </h2>
                        
                        <div style={{
                            display: 'grid',
                            gridTemplateColumns: 'repeat(auto-fit, minmax(400px, 1fr))',
                            gap: '16px'
                        }}>
                            {tasks.map(task => (
                                <TaskCard
                                    key={task.id}
                                    task={task}
                                    onTaskSelect={setSelectedTask}
                                />
                            ))}
                        </div>
                    </div>

                    {/* Features Overview */}
                    <div className="fade-in" style={{
                        marginBottom: '20px',
                        padding: '20px',
                        backgroundColor: '#ffffff',
                        borderRadius: '8px',
                        border: '1px solid #e5e7eb',
                        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'
                    }}>
                        <h2 style={{ margin: '0 0 16px 0', fontSize: '20px', fontWeight: '600', color: '#111827' }}>
                            ‚ú® Enhanced Frontend Features
                        </h2>
                        
                        <div style={{
                            display: 'grid',
                            gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',
                            gap: '16px'
                        }}>
                            {[
                                {
                                    icon: 'üéØ',
                                    title: 'Comprehensive Dashboard',
                                    description: 'Real-time task management interface with live updates and analytics'
                                },
                                {
                                    icon: 'üîÑ',
                                    title: 'API Integration',
                                    description: 'Seamless integration with TaskManager REST API for live data synchronization'
                                },
                                {
                                    icon: 'üìä',
                                    title: 'Advanced Analytics',
                                    description: 'Task performance metrics, completion trends, and agent workload analysis'
                                },
                                {
                                    icon: 'ü§ñ',
                                    title: 'Agent Management',
                                    description: 'Monitor active agents, view assignments, and track system health'
                                },
                                {
                                    icon: 'üé®',
                                    title: 'Modern UI/UX',
                                    description: 'Clean, responsive design with hover effects and smooth animations'
                                },
                                {
                                    icon: 'üì±',
                                    title: 'Mobile Responsive',
                                    description: 'Optimized for all screen sizes with adaptive layouts'
                                }
                            ].map((feature, index) => (
                                <div key={index} className="hover-lift" style={{
                                    padding: '16px',
                                    backgroundColor: '#f9fafb',
                                    borderRadius: '8px',
                                    border: '1px solid #e5e7eb'
                                }}>
                                    <div style={{
                                        fontSize: '32px',
                                        marginBottom: '8px'
                                    }}>
                                        {feature.icon}
                                    </div>
                                    <h3 style={{
                                        margin: '0 0 8px 0',
                                        fontSize: '16px',
                                        fontWeight: '600',
                                        color: '#111827'
                                    }}>
                                        {feature.title}
                                    </h3>
                                    <p style={{
                                        margin: 0,
                                        fontSize: '14px',
                                        color: '#6b7280',
                                        lineHeight: '1.5'
                                    }}>
                                        {feature.description}
                                    </p>
                                </div>
                            ))}
                        </div>
                    </div>

                    {/* Footer */}
                    <div style={{
                        textAlign: 'center',
                        padding: '20px',
                        fontSize: '14px',
                        color: '#6b7280'
                    }}>
                        <div>üöÄ Enhanced Frontend Demo - TaskManager System</div>
                        <div style={{ marginTop: '4px', fontSize: '12px' }}>
                            Built with React, integrated with TaskManager API
                        </div>
                    </div>

                    {/* Task Detail Modal */}
                    {selectedTask && (
                        <div style={{
                            position: 'fixed',
                            top: 0,
                            left: 0,
                            right: 0,
                            bottom: 0,
                            backgroundColor: 'rgba(0, 0, 0, 0.5)',
                            display: 'flex',
                            justifyContent: 'center',
                            alignItems: 'center',
                            zIndex: 1000
                        }} className="modal-backdrop">
                            <div className="fade-in" style={{
                                backgroundColor: '#ffffff',
                                borderRadius: '12px',
                                padding: '24px',
                                maxWidth: '500px',
                                maxHeight: '80vh',
                                overflow: 'auto',
                                margin: '20px',
                                boxShadow: '0 20px 25px rgba(0, 0, 0, 0.1)'
                            }}>
                                <div style={{
                                    display: 'flex',
                                    justifyContent: 'space-between',
                                    alignItems: 'center',
                                    marginBottom: '16px'
                                }}>
                                    <h2 style={{ margin: 0, fontSize: '20px', fontWeight: '600', color: '#111827' }}>
                                        Task Details
                                    </h2>
                                    <button
                                        onClick={() => setSelectedTask(null)}
                                        style={{
                                            backgroundColor: 'transparent',
                                            border: 'none',
                                            fontSize: '20px',
                                            cursor: 'pointer',
                                            padding: '4px',
                                            borderRadius: '4px',
                                            color: '#6b7280'
                                        }}
                                    >
                                        ‚úï
                                    </button>
                                </div>
                                
                                <div style={{ fontSize: '14px', lineHeight: '1.6' }}>
                                    <div style={{ marginBottom: '12px' }}>
                                        <strong style={{ color: '#374151' }}>Title:</strong>
                                        <div style={{ marginTop: '4px', color: '#111827' }}>{selectedTask.title}</div>
                                    </div>
                                    <div style={{ marginBottom: '12px' }}>
                                        <strong style={{ color: '#374151' }}>Description:</strong>
                                        <div style={{ marginTop: '4px', color: '#6b7280' }}>
                                            {selectedTask.description || 'No description provided'}
                                        </div>
                                    </div>
                                    <div style={{ marginBottom: '12px' }}>
                                        <strong style={{ color: '#374151' }}>Status:</strong>
                                        <span style={{
                                            marginLeft: '8px',
                                            padding: '2px 8px',
                                            borderRadius: '12px',
                                            fontSize: '12px',
                                            fontWeight: '500',
                                            backgroundColor: selectedTask.status === 'completed' ? '#dcfce7' : 
                                                           selectedTask.status === 'in_progress' ? '#dbeafe' : '#fef3c7',
                                            color: selectedTask.status === 'completed' ? '#166534' : 
                                                   selectedTask.status === 'in_progress' ? '#1e40af' : '#92400e'
                                        }}>
                                            {selectedTask.status}
                                        </span>
                                    </div>
                                    <div style={{ marginBottom: '12px' }}>
                                        <strong style={{ color: '#374151' }}>Category:</strong>
                                        <span style={{ marginLeft: '8px', color: '#6b7280' }}>{selectedTask.category}</span>
                                    </div>
                                    <div style={{ marginBottom: '12px' }}>
                                        <strong style={{ color: '#374151' }}>Priority:</strong>
                                        <span style={{ marginLeft: '8px', color: '#6b7280' }}>{selectedTask.priority}</span>
                                    </div>
                                    <div>
                                        <strong style={{ color: '#374151' }}>Created:</strong>
                                        <span style={{ marginLeft: '8px', color: '#6b7280' }}>
                                            {new Date(selectedTask.created_at).toLocaleString()}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Mount the app
        const root = createRoot(document.getElementById('root'));
        root.render(<DemoApp />);
    </script>
</body>
</html>